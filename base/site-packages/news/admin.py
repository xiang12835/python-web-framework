from django.contrib import admin

from news.models import *

class NewsItemAdmin(admin.ModelAdmin):
	prepopulated_fields = {'slug':('title',)}
	list_display = ['title', 'date', 'category', 'site']
	list_filter = ['date']
	search_fields = ['title', 'body']
	date_hierarchy = 'date'
	ordering = ['-date']
	fieldsets = (
		('Article info', {
			'fields': ('title', 'body', 'date', 'category')
		}),
		('Advanced', {
			'classes': ['collapse'],
			'fields': ('snippet', 'slug',)
		}),
	)
	
	def queryset(self, request):
		return NewsItem.on_site.all()
		
admin.site.register(NewsItem, NewsItemAdmin)
admin.site.register(NewsCategory)
admin.site.register(NewsAuthor)